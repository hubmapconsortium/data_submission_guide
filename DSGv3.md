# Data Submission Guide

This resource documents the key steps for TMCs, Assay teams, and others who need to upload data to the HuBMAP Data Ingest portal (HuBMAP Consortium) or SenNet Data Sharing Portal (SenNet Consortium).
Additional information about each each step (or section) of the process and additional resources can be found here:
• [Data Ingest Guidance](https://drive.google.com/drive/u/0/folders/1N0k_OU0sW-a0CdFwdkL_zHoneqiStwPM) (PDF Slidedeck)

Links to additional related portals, sites, and other resources are also provided herein.
Download a "tracker" version of this list: [HuBMAP Data Upload Checklist](https://docs.google.com/document/d/1NL-YxyxMAP4Oa0X7ksh0bfOIG_U3nq0-nBtARsas1SE/edit)  
Use this tool to track your team's progress in the data submission/data ingest process.

• Use the Table of Contents below to jump to a section of interest.
• Use the key combination Ctrl + F  to search for a term or topic within this page.

## Section 1 - Prerequisites
Complete the prerequisites listed below prior to registering donors and samples or uploading any data.
Click the provided links in this section to go to related portals or websites, or to access additional relevant information.

|Step | Comments |
|----------------------------------------|-------------------------------------------------------------------------|
|1. Complete onboarding |• Register as a HuBMAP or SenNet member. <br> • Verify that you can successfully login to the [HuBMAP Consortium](https://hubmapconsortium.org/) or <br> [SenNet Consortium](https://sennetconsortium.org/) website. |
|&nbsp; a. Request access: |• To any resources you will need.<br> • Add additional resources later by updating your HuBMAP or SenNet profile.
|&nbsp; &nbsp; i. Data Portal |• [HuBMAP Data portal](http://portal.hubmapconsortium.org/) OR <br> • [SenNet Data Sharing Portal](http://data.sennetconsortium.org/) <br> These are separate from the HuBMAP and SenNet Consortium websites.|
|&nbsp; &nbsp; ii. [Globus](https://www.globus.org/) | **IMPORTANT:** <br> 1. Your Globus ID must be either an institutional ID or an [eRA Commons](https://www.era.nih.gov/) ID. <br>2. [Check that your institution ID is linked](https://docs.globus.org/how-to/link-to-existing/) to your Globus ID. <br> 3. See also Globus' [How To](https://docs.globus.org/how-to/) & [FAQs](https://docs.globus.org/faq/) for more information.
|&nbsp; &nbsp; iii. _Write_ access |To your team's Globus folder. <br>Granted _after_ confirming that you will submit data via the [HuBMAP ingest portal](http://ingest.hubmapconsortium.org/) OR [SenNet Data Sharing Portal](http://data.sennetconsortium.org/) (required).
|&nbsp; &nbsp; iv. [Protocols.io](http://protocols.io/) | • [HuBMAP Method Development Community](https://www.protocols.io/workspaces/human-biomolecular-atlas-program-hubmap-method-development) (required for HuBMAP).<br> • [SenNet Method Development Community](https://www.protocols.io/workspaces/cellular-senescence-network-sennet-method-develo) (required for SenNet). <br>• Provide your protocols.io email account if you will be creating protocols for your team.
|&nbsp; &nbsp; v. NIH's [dbGaP](https://dbgap.ncbi.nlm.nih.gov/aa/wga.cgi?page=login) |• For sequencing data, if applicable.<br> • Sequencing data will be submitted here after your data is published.
|&nbsp; b. Submit preliminary documentation |• [Data use](https://hubmapconsortium.org/wp-content/uploads/2020/06/DUA_FINAL_2020_02_03_for_Signature.pdf) and [material transfer](https://hubmapconsortium.org/wp-content/uploads/2020/08/MTA.pdf) agreements.<br>• See also the _Onboarding Checklist_ in the [HuBMAP New User Guide](https://docs.google.com/document/d/1ew6erXdwt38b8reiiH38NUeab4TD5ot-nv59M444j0Y/edit#heading=h.ym9gyx39h7t3).
| 2. Register protocol(s) | Via [protocols.io](https://www.protocols.io/welcome) <br>• Each registered protocol requires a digital object identifier (DOI).
|&nbsp; a. Initial setup | • Select a lead and create accounts <br> • Create a workspace for your team (TMC, TTD, RTI, DP, etc).
|&nbsp; b. Organize protocols | • Break workflows into modules <br> • Create an overall protocol that references others <br> • See this Vanderbilt protocol as an example: [VU BIOMIC Kidney pipeline](https://dx.doi.org/10.17504/protocols.io.bfskjncw)
|&nbsp; c. Create a New protocol| • Many templates are available <br>• Pick the DOI option when publishing
|&nbsp; &nbsp; i. Publish a new protocol | • Use a template <br>• Include HuBMAP (or SenNet) and team name as keywords <br> • Publish the protocol <br> • For additional examples, see also:<br> &nbsp; • [HuBMAP Method Development Community](https://www.protocols.io/workspaces/human-biomolecular-atlas-program-hubmap-method-development) OR <br> &nbsp; • [SenNet Method Development Community](https://www.protocols.io/workspaces/cellular-senescence-network-sennet-method-develo)|
|&nbsp; &nbsp; ii. Modify a protocol | • Open an existing protocol <br> • Use _Edit New Version_ or _Edit New Fork_ <br> • Follow steps to create and publish a new protocol. <br> • For detailed directions... |

[Back to top](#Data Submission Guide)

## Different ways to create a new protocol [protocols.io](http://protocols.io/)

|Option | Comments |
|----------------------------------------|-------------------------------------------------------------------|
| • Create an entirely new protocol | Creating a new protocol from "scratch" at [protocols.io](http://protocols.io/)
| • New version of an existing protocol |• Based on an existing protocol that you created  <br>• Based on an existing protocol that _someone else_ created|

<details>
<summary>Details about creating new protocols</summary>

### Creating an entirely new protocol (from "scratch"):

|Step | Comments |
|--------------------------------------|--------------------------------------------------------------------------|
| 1. Log into protocols.io | Use your protocols.io login registered with your consortium.|
| 2. Select your Workspace | • Click the HuBMAP icon for the HuBMAP Workspace <br>• Click the SenNet icon for the SenNet Workspace <br> • If you do not see your icon you have not been added to the group <br> • Contact your helpdesk for assistance |
| 3. Click the **NEW +**button | At the top and select **New protocol**|
| 4. Select a template option |• There are several template options for a protocol <br>• The option selected determines the tool widgets shown on the right. |
| 5. Rename the protocol | From “untitled protocol” to something more descriptive so the protocol saves properly.|
| 6. A series of tabs displays... | Under the protocol title: (_Description, Guidelines..., Materials, etc._)  <br> • Fill in information for all tabs shown  <br> • Under _Description > Keywords_ enter your consortium and group (TMC, etc.)|
| 7. Publishing | When you are satisfied that the protocol is complete: <br>• Select **MORE > Publish** <br>• Publishing is a multistep process (see below). |

**IMPORTANT:** Once published, a protocol cannot be deleted or edited, only versioned.
</details>
<details>
<summary>Details about Publishing Protocols</summary>

### Publishing your new protocol:

|Step | Comments |
|--------------------------------------|--------------------------------------------------------------------------|
| 1. Publish type | Select **With DOI**  <br> • **IMPORTANT:** HuBMAP and SenNet protocols MUST be assigned a DOI. <br> • This is required to register a donor (or source) and samples. <br> • This is required to submit assay metadata to the HIVE or CODCC.|
| 2. Set authors | • Multiple authors may be added in order of importance. <br> • You can drag-and-drop authors to reorder. |
| 3. Status | Select _Working, In Development,_ or _Other_.|
| 4. Research study | Select _Research_ (most likely) or _Non-Research_.|
| 5. Add workspaces | • _Show_ and _Share_ the protocol on the HuBMAP (or SenNet) Workspace.  <br> • You can also show or share the protocol on any other workspace, if desired. |
| 6. Publish | Publish the protocol|
</details>

<details>

<summary>Details about updating a protocol you created</summary>

### Revise a Protocol you created previously
  
|Step | Comments |
|--------------------------------------|-------------------------------------------------------------------|
| 1. Navigate to the protocol | On [protocols.io](http://protocols.io/), click on the protocol to select it.|
| 2. Select  | **New Version > Create New Version > Edit New Version**|
| 3. Re-publish |• Make any changes needed and republish <br>• The process is virtually identical to the [Create a new Protocol Process](https://hubmapconsortium.org/data-submission-guide-2/?visual=iframe#newprotocol).|
</details>

<details>

<summary>Details about updating a protocol someone else created</summary>

### Create a new protocol based on someone else's Protocol 
  
|Step | Comments |
|--------------------------------------|-------------------------------------------------------------------|
| 1. Navigate to the protocol | On [protocols.io](http://protocols.io/), click on the protocol to select it.|
| 2. Select  |• **Copy/Fork > Make a Fork>** <br>• Select where to store the copied protocol <br> • Select **Edit New Fork>**|
| 3. Re-publish |• Make any changes needed and republish <br>• The process is virtually identical to the [Create a new Protocol Process](https://hubmapconsortium.org/data-submission-guide-2/?visual=iframe#newprotocol).|
</details>



## Section 2 - Registering Donors or Sources, Organs, and Samples
**NOTE:** We strongly recommend that you collect donor or source information when you get the organ and sample, well before you begin actual preparations to submit data.

|Step | Comments |
|----------------------------------------|-------------------------------------------------------------------------|
|1. Register a donor or source | Register a donor via <a href="http://ingest.hubmapconsortium.org">HuBMAP ingest portal</a>. <br> &nbsp; • A <em>donor</em> in HuBMAP is an individual from which organs and samples originate. <br> Register a source via <a href="https://data.sennetconsortium.org/search">SenNet Data Sharing Portal</a>. <br> &nbsp; • A <em>source</em> in SenNet is the organism being studied.|
|&nbsp; a. Search for the donor <br> &nbsp; &nbsp; &nbsp; or source:| Verify that the donor or source has not already been registered.|
|&nbsp; b. From the Navigation bar: | &nbsp; •  In HuBMAP select: REGISTER NEW > INDIVIDUAL > Donor <br> &nbsp; •  In SenNet select: Create an Entity > Source|
|&nbsp; c. Record donor or source <br> &nbsp; &nbsp; &nbsp; information: | Do <em>NOT</em> include <a href="https://ingest.hubmapconsortium.org/new/donor">protected health information</a> about a donor or source, organ, or specimen.|
|&nbsp; d. Complete registration: | &nbsp; •  In HuBMAP click <b>Generate ID</b> to complete the registration process. <br> &nbsp; •  In SenNet click <b>Submit</b> to complete the registration process.|

**IMPORTANT** _Prerequisite:_ Before registering a sample or organ, the associated donor or source _must_ be registered. You also need the ID of the organ and the DOI (from <a href="http://protocols.io">protocols.io</a>) for the case selection protocol.

|Step | Comments |
|----------------------------------------|-------------------------------------------------------------------------|
|2. Register an organ or sample | In addition to _organ_ there are 3 sample types: _Block, Section,_ and _Suspension._|
|&nbsp; a. From the Navigation bar: | In HuBMAP select: <br> &nbsp; • REGISTER NEW > INDIVIDUAL > Sample; (used for both organs and samples). <br> &nbsp; • For organs - Select **Organ** from the _Tissue Sample Type_ drop down <br> &nbsp; • For samples - Select **Block, Section,** or **Suspension** from the _Tissue Sample Type_ drop down <br> In SenNet select: <br> &nbsp; • Create an Entity > Sample; (used for both organs and samples). <br> &nbsp; • Select the appropriate field from the _Sample Category_ drop-down: <br> &nbsp; &nbsp; &nbsp; ‣ Select from **block, section, suspension, bodily fluid, organ,** or **organ piece**. <br> &nbsp; • If <strong>organ</strong> is selected, select the <em>organ type</em> from the dropdown list.|
|&nbsp; b. Record sample information | In HuBMAP, the _Source ID_ field represents the organ or sample’s parent, the donor. <br>In SenNet, the _Ancestor ID_ field represents the organ or sample’s source. |
|&nbsp; c. Is the sample a tissue block? | Upload a thumbnail image: <br> &nbsp; • A stained microscopy image of a tissue section that represents the tissue block. <br> &nbsp; • Label the image using this format: _[block_submission_id].[jpg]_. <br> &nbsp; • Preferably, **800** x **600** pixels, in JPEG or PNG format. <br> See also: <a href="https://docs.google.com/document/d/1swtxxF9z8Llnptqk4eNvgDpYUwDrViI78KbRI3b1jXg/edit#heading=h.cd53uti4az4">Images SOP. </a>|
|&nbsp; d. 3D reference object? | IF a 3D reference objects exits for the organ... <br> &nbsp; • It is part of the <em>Common Coordinate Framework (CCF)</em>, which refers to the entire body. <br> &nbsp; • See the <a href="https://hubmapconsortium.github.io/ccf/pages/ccf-3d-reference-library.html"> CCF Portal </a> for a listing of supported organs.|
|&nbsp; &nbsp; &nbsp; Yes — click **Register Location** <br> &nbsp; &nbsp; &nbsp; No — (no existing CCF)| To register the sample in CCF Coordinate space. <br> &nbsp; • See this <a href="https://www.youtube.com/watch?v=142hGer4xvU"> video </a> or download the SOP <a href="https://doi.org/10.5281/zenodo.5575776">here</a>. <br> &nbsp; • Contact <a href="infoccf@indiana.edu"> MC-IU </a> if the organ or tissue you are imaging is <em>not</em> represented in the CCF.|
|&nbsp; e. Complete registration | &nbsp; • In HuBMAP click **Generate ID** to complete the registration process. <br> &nbsp; • In SenNet click **Submit** to complete the registration process. <br> &nbsp; • After an organ or sample is registered, the system will confirm the process. <br> &nbsp; • The system will also assign an ID for the item.|
